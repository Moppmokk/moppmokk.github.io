[{"/Users/moritz/jammming/src/index.js":"1","/Users/moritz/jammming/src/reportWebVitals.js":"2","/Users/moritz/jammming/src/Components/App/App.js":"3","/Users/moritz/jammming/src/Components/SearchBar/SearchBar.js":"4","/Users/moritz/jammming/src/Components/SearchResult/SearchResult.js":"5","/Users/moritz/jammming/src/Components/TrackList/Tracklist.js":"6","/Users/moritz/jammming/src/Components/Playlist/Playlist.js":"7","/Users/moritz/jammming/src/Components/Track/Track.js":"8","/Users/moritz/jammming/src/Components/TrackList/TrackList.js":"9","/Users/moritz/jammming/src/Components/PlaylistTrack/PlaylistTrack.js":"10"},{"size":338,"mtime":1695645900000,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1695645900000,"results":"13","hashOfConfig":"12"},{"size":4765,"mtime":1695645900000,"results":"14","hashOfConfig":"12"},{"size":581,"mtime":1695645900000,"results":"15","hashOfConfig":"12"},{"size":491,"mtime":1695645900000,"results":"16","hashOfConfig":"12"},{"size":621,"mtime":1695645900000,"results":"17","hashOfConfig":"12"},{"size":1021,"mtime":1695645900000,"results":"18","hashOfConfig":"12"},{"size":674,"mtime":1695645900000,"results":"19","hashOfConfig":"12"},{"size":349,"mtime":1694416289334,"results":"20","hashOfConfig":"12"},{"size":480,"mtime":1695645900000,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"rh43gq",{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},"/Users/moritz/jammming/src/index.js",[],[],"/Users/moritz/jammming/src/reportWebVitals.js",[],[],"/Users/moritz/jammming/src/Components/App/App.js",["60","61","62","63","64"],[],"import React, { useState, useEffect } from 'react';\nimport logo from './logo.jpg';\nimport './App.css';\nimport SearchBar from '../SearchBar/SearchBar';\nimport SearchResult from '../SearchResult/SearchResult';\nimport Playlist from '../Playlist/Playlist';\nimport Track from '../Track/Track';\nimport axios from 'axios';\n\nfunction App() {\n\n  // token\n\n  const [token, setToken] = useState(\"\");\n  useEffect(() => {\n    const hash = window.location.hash\n    let token = window.localStorage.getItem(\"token\")\n\n    if (!token && hash) {\n        token = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n\n        window.location.hash = \"\"\n        window.localStorage.setItem(\"token\", token)\n    }\n\n    setToken(token)\n  }, []) \n\n  // user\n\n  const [userId, setUserId] = useState(\"\");\n\n  const getUser = async (e) => {\n    const {data} = await axios.get(\"https://api.spotify.com/v1/me\", {\n        headers: {\n            Authorization: `Bearer ${token}`\n        },\n    })\n\n    setUserId(data.id);\n  }\n\n  // search\n\n  const CLIENT_ID = 'da32ad9710d44c12ba2961fc6bda4dda';\n  const REDIRECT_URI = \"https://moppmokk.github.io\";\n  const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\n  const RESPONSE_TYPE = \"token\";\n\n  const [searchKey, setSearchKey] = useState(\"\");\n  const [tracks, setTracks] = useState([]);\n\n  const searchTracks = async (e) => {\n    const {data} = await axios.get(\"https://api.spotify.com/v1/search\", {\n        headers: {\n            Authorization: `Bearer ${token}`\n        },\n        params: {\n            q: searchKey,\n            type: \"track\"\n        }\n    })\n\n    setTracks(data.tracks.items);\n  }\n\n  // New Playlist\n\n  const [playlistName, setPlaylistName] = useState(\"Enter Playlist Name\");\n\n  const [toPlaylist, setToPlaylist] = useState([]);\n  const [trackIds, setTrackIds] = useState([]);\n  useEffect(() => {\n    if (!toPlaylist) {\n      setToPlaylist([]);\n    }\n  })\n\n    // save Playlist\n\n    let errorTracker = '';\n\n    const createPlaylist = async (e) => { \n      errorTracker = '';\n      try {\n        await getUser();\n        const response = await fetch(`https://api.spotify.com/v1/users/${userId}/playlists`, {\n          method: 'POST',\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            name: playlistName,\n            public: true,\n            description: 'A playlist generated through Jammming Project by OldMo'\n         })\n        })\n        const jsonResponse = await response.json();\n        const playlistId = jsonResponse.id;\n        if (playlistId) {\n          const replacePlaylistTracksUrl = `https://api.spotify.com/v1/playlists/${playlistId}/tracks`;\n          await fetch(replacePlaylistTracksUrl, {\n              method: 'PUT',\n              headers: {\n                  'Content-Type': 'application/json',\n                  Authorization: `Bearer ${token}`\n              },\n              body : JSON.stringify({uris: toPlaylist.map(id => \"spotify:track:\".concat(id.id))})\n          });\n        }\n      } catch (error) {\n        console.log('error', error);\n        errorTracker = error;\n      }\n\n      if (errorTracker === '') {\n        window.alert(`Playlist ${playlistName} saved!`)\n      }\n\n    }\n\n\n\n  return (\n    <div className=\"App\">\n      <h1>Jammming</h1>\n      <div className=\"logo\"></div>\n      <a className='button' href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=playlist-modify-public`}>Login to Spotify</a>\n      <div className=\"App\">\n        <SearchBar \n          searchKey={searchKey} \n          handleChange2={e => setSearchKey(e)} \n          submitHandler={searchTracks}\n          searchTracks={searchTracks}\n          tracks={tracks}\n        />\n        <div className=\"App-playlist\">\n          <SearchResult \n            searchResults={tracks} \n            onAdd={tr => toPlaylist.some((i) => tr.searchResultObject === i) ? setToPlaylist(prev => { return prev.filter(newTr => newTr !== tr.searchResultObject)}) : setToPlaylist(prev => [tr.searchResultObject, ...prev]) } \n            toPlaylist={toPlaylist}\n          />\n          <Playlist \n            toPlaylist={toPlaylist}\n            onAdd={tr => toPlaylist.some((i) => tr.searchResultObject === i) ? setToPlaylist(prev => { return prev.filter(newTr => newTr !== tr.searchResultObject)}) : setToPlaylist(prev => [tr.searchResultObject, ...prev]) } \n            changeName={name => setPlaylistName(name)}\n            playlistName={playlistName}\n            getUser={() => getUser()}\n            createPlaylist={() => createPlaylist()}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/moritz/jammming/src/Components/SearchBar/SearchBar.js",["65"],[],"import React, { useState } from \"react\";\nimport './SearchBar.css';\n\nfunction SearchBar({ handleChange2, searchKey, searchTracks, tracks }) {\n\n    const handleChange = (e) => {\n        handleChange2(e.target.value);\n    }\n\n    const handleSubmit = (e) => {\n            searchTracks();\n    }\n\n    return(\n        <div className=\"SearchBar\">\n            <input placeholder=\"Enter a Song, Album, Artist...\" onChange={handleChange} value={searchKey} />\n            <button className=\"SearchButton\" onClick={handleSubmit}>SEARCH</button>\n        </div>\n    )\n}\n\nexport default SearchBar;","/Users/moritz/jammming/src/Components/SearchResult/SearchResult.js",["66","67"],[],"import React, { useState, useEffect } from 'react';\nimport './SearchResult.css';\nimport TrackList from '../TrackList/Tracklist';\n\nfunction SearchResult({ searchResults, onAdd, toPlaylist }) {\n\n\n    return(\n        <div className=\"SearchResult\">\n            <h2>Results</h2>\n            <TrackList\n                searchResults={searchResults}\n                onAdd={tr => onAdd(tr)} \n                toPlaylist={toPlaylist}\n            />\n        </div>\n    )\n}\n\nexport default SearchResult;","/Users/moritz/jammming/src/Components/TrackList/Tracklist.js",["68","69"],[],"import React, { useState, useEffect } from 'react';\nimport './TrackList.css';\nimport Track from '../Track/Track';\n\nfunction TrackList({searchResults, onAdd, toPlaylist}, props) {\n\n    return (\n        <div className=\"TrackList\">\n            {searchResults.map(\n                searchResultObject => \n                <Track \n                    key={searchResultObject.id} \n                    searchResultObject={searchResultObject}\n                    onAdd={tr => onAdd(tr)}                 \n                    toPlaylist={toPlaylist}\n                />\n            )}\n        </div>\n    )\n}\n\nexport default TrackList;","/Users/moritz/jammming/src/Components/Playlist/Playlist.js",["70","71"],[],"import React, { useState } from 'react';\nimport TrackList from '../TrackList/Tracklist';\nimport './Playlist.css';\nimport PlaylistTrack from '../PlaylistTrack/PlaylistTrack';\n\nfunction Playlist({ toPlaylist, onAdd, changeName, playlistName, getUser, createPlaylist }) {\n\n    const handleChange = (e) => {\n        changeName(e.target.value);\n    }\n\n    const saveToSpotify = () => {\n        createPlaylist();\n\n    }\n\n    return(\n        <div className=\"Playlist\">\n            <input onChange={handleChange} value={playlistName} />\n            {toPlaylist.map(\n                toPlaylistObject => \n                    <PlaylistTrack \n                        key={toPlaylistObject.id} \n                        toPlaylistObject={toPlaylistObject} \n                        onAdd={tr => onAdd(tr)}\n                        toPlaylist={toPlaylist} \n                    />\n            )}\n            <button className=\"Playlist-save\" onClick={saveToSpotify}>Save To Spotify</button>\n        </div>\n    )\n}\n\nexport default Playlist;","/Users/moritz/jammming/src/Components/Track/Track.js",["72"],[],"import React, { useState } from 'react';\nimport './Track.css';\n\nfunction Track(props) {\n\n    const addToPlaylist = (e) => {\n        props.onAdd(props);\n    }\n\n    return(\n        <div className=\"Track\">\n            <div className=\"Track-information\">\n                <h3>{props.searchResultObject.name}</h3>\n                <p>{props.searchResultObject.artists[0].name} | {props.searchResultObject.album.name}</p>\n            </div>\n            <button className=\"buttonAddTrack\" onClick={addToPlaylist}>\n                {props.toPlaylist.some(e => e.id === props.searchResultObject.id) ? 'Remove' : 'Add'}\n            </button>\n        </div>\n    )\n}\n\nexport default Track;","/Users/moritz/jammming/src/Components/TrackList/TrackList.js",[],[],[],"/Users/moritz/jammming/src/Components/PlaylistTrack/PlaylistTrack.js",["73","74"],[],"import React, { useState } from 'react';\nimport './PlaylistTrack.css';\n\nfunction Track(props) {\n\n    const addToPlaylist = (e) => {\n        props.onAdd(props);\n    }\n\n    return(\n        <div className=\"Track\">\n            <div className=\"Track-information\">\n                <h3>{props.toPlaylistObject.name}</h3>\n                <p>{props.toPlaylistObject.artists[0].name} | {props.toPlaylistObject.album.name}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default Track;",{"ruleId":"75","severity":1,"message":"76","line":2,"column":8,"nodeType":"77","messageId":"78","endLine":2,"endColumn":12},{"ruleId":"75","severity":1,"message":"79","line":7,"column":8,"nodeType":"77","messageId":"78","endLine":7,"endColumn":13},{"ruleId":"75","severity":1,"message":"80","line":72,"column":10,"nodeType":"77","messageId":"78","endLine":72,"endColumn":18},{"ruleId":"75","severity":1,"message":"81","line":72,"column":20,"nodeType":"77","messageId":"78","endLine":72,"endColumn":31},{"ruleId":"82","severity":1,"message":"83","line":73,"column":3,"nodeType":"77","endLine":73,"endColumn":12,"suggestions":"84"},{"ruleId":"75","severity":1,"message":"85","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":25},{"ruleId":"75","severity":1,"message":"85","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":25},{"ruleId":"75","severity":1,"message":"86","line":1,"column":27,"nodeType":"77","messageId":"78","endLine":1,"endColumn":36},{"ruleId":"75","severity":1,"message":"85","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":25},{"ruleId":"75","severity":1,"message":"86","line":1,"column":27,"nodeType":"77","messageId":"78","endLine":1,"endColumn":36},{"ruleId":"75","severity":1,"message":"85","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":25},{"ruleId":"75","severity":1,"message":"87","line":2,"column":8,"nodeType":"77","messageId":"78","endLine":2,"endColumn":17},{"ruleId":"75","severity":1,"message":"85","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":25},{"ruleId":"75","severity":1,"message":"85","line":1,"column":17,"nodeType":"77","messageId":"78","endLine":1,"endColumn":25},{"ruleId":"75","severity":1,"message":"88","line":6,"column":11,"nodeType":"77","messageId":"78","endLine":6,"endColumn":24},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Track' is defined but never used.","'trackIds' is assigned a value but never used.","'setTrackIds' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setToPlaylist'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [toPlaylist] as a second argument to the useEffect Hook.",["89"],"'useState' is defined but never used.","'useEffect' is defined but never used.","'TrackList' is defined but never used.","'addToPlaylist' is assigned a value but never used.",{"desc":"90","fix":"91"},"Add dependencies array: [toPlaylist]",{"range":"92","text":"93"},[1931,1931],", [toPlaylist]"]